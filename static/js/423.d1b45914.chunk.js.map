{"version":3,"file":"static/js/423.d1b45914.chunk.js","mappings":"2LAEaA,EAA0B,SAACC,GAAD,OAAyBA,EAAMC,KAAKC,U,SCD3E,GAAgB,QAAU,+BAA+B,SAAW,iC,SCIvDC,EAAmB,WAC5B,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MAMjB,OAAO,iBAAKC,UAAWC,EAAAA,QAAhB,WACH,qBAAUL,MAAOA,EAAOM,SANP,SAACC,GAAD,OAA+CN,EAASM,EAAEC,OAAOR,QAMlCI,UAAWC,EAAAA,YAC3D,mBAAQI,QANQ,WAChBP,GAASQ,EAAAA,EAAAA,IAAYV,IACrBC,EAAS,KAIqBG,UAAWC,EAAAA,OAAzC,wE,oBCdR,GAAgB,SAAW,2BAA2B,QAAU,0BAA0B,MAAQ,wBAAwB,KAAO,uBAAuB,QAAU,2BCKrJM,EAAuB,SAAC,GAAkB,IAAhBd,EAAe,EAAfA,SACnC,OAAO,gBAAKO,UAAWC,EAAAA,SAAhB,SACW,OAAbR,GAAyC,IAApBA,EAASe,OAC7Bf,EAASgB,KAAI,SAACC,EAAGC,GACf,OAAO,iBAAaX,UAAWC,EAAAA,QAAxB,WACH,gBAAKD,UAAWC,EAAAA,aAAhB,UACI,SAAC,KAAD,CAAMW,GAAI,UAAYF,EAAEG,OAAxB,SACKH,EAAEI,OACD,gBAAKC,IAAKL,EAAEI,MAAOE,IAAKN,EAAEO,SAAUC,MAAM,OAAOlB,UAAWC,EAAAA,SAC5D,gBAAKc,IAAKI,EAAWH,IAAKN,EAAEO,SAAUC,MAAM,OAAOlB,UAAWC,EAAAA,aAGxE,iBAAKD,UAAWC,EAAAA,eAAhB,WACI,cAAGD,UAAWC,EAAAA,KAAd,SAA4BS,EAAEO,YAC9B,cAAGjB,UAAWC,EAAAA,QAAd,SAA+BS,EAAEU,eAVxBT,OAcnB,wGCEV,EAlBqB,WACjB,IAAMlB,GAAW4B,EAAAA,EAAAA,IAAY/B,GACvBgC,GAAWD,EAAAA,EAAAA,IAAYE,EAAAA,IACvBzB,GAAWC,EAAAA,EAAAA,MAOjB,OANAyB,EAAAA,EAAAA,YAAU,WAEN,OADA1B,GAAS2B,EAAAA,EAAAA,OACF,WACH3B,GAAS4B,EAAAA,EAAAA,UAEd,CAAC5B,KAEA,iCACK6B,EAAAA,EAAAA,UAAQ,WAAQ,OAAO,SAACpB,EAAD,CAAUd,SAAUA,MAAe,CAACA,IAC3D6B,IAAY,SAAC5B,EAAD","sources":["store/selectors/chatSelector.ts","webpack://kamas/./src/pages/ChatPage/InputMessage/InputMessages.module.css?da36","pages/ChatPage/InputMessage/InputMessage.tsx","webpack://kamas/./src/pages/ChatPage/Messages/Messages.module.css?8abf","pages/ChatPage/Messages/Messages.tsx","pages/ChatPage/ChatPage.tsx"],"sourcesContent":["import { TGlobalState } from \"../reduxStore\"\r\n\r\nexport const getChatMessagesSelector = (state: TGlobalState) => state.chat.messages","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InputMessages_wrapper__QV6Sl\",\"textarea\":\"InputMessages_textarea__-z9A1\"};","import React, { FC, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { sendMessage } from '../../../store/reducers/chatReducer'\r\nimport styles from './InputMessages.module.css'\r\n\r\nexport const InputMessage: FC = () => {\r\n    const [value, setValue] = useState('')\r\n    const dispatch = useDispatch()\r\n    const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => setValue(e.target.value)\r\n    const handleClick = () => {\r\n        dispatch(sendMessage(value))\r\n        setValue('')\r\n    }\r\n    return <div className={styles.wrapper}>\r\n        <textarea value={value} onChange={handleChange} className={styles.textarea}/>\r\n        <button onClick={handleClick} className={styles.button}>Отправить</button>\r\n    </div>\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Messages_messages__rACvG\",\"wrapper\":\"Messages_wrapper__7zJaQ\",\"photo\":\"Messages_photo__FXBKR\",\"name\":\"Messages_name__ciu+K\",\"message\":\"Messages_message__CNk5T\"};","import React, { FC } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { TMessages } from '../../../api/wsAPI'\r\nimport userImage from '../../../assets/images/user.png'\r\nimport styles from './Messages.module.css'\r\n\r\nexport const Messages: FC<TProps> = ({ messages }) => {\r\n    return <div className={styles.messages} >\r\n        {messages !== null && messages.length !== 0\r\n        ? messages.map((m, i) => {            \r\n            return <div key={i} className={styles.wrapper}>\r\n                <div className={styles.photoWrapper}>\r\n                    <Link to={'/users/' + m.userId}>\r\n                        {m.photo\r\n                        ? <img src={m.photo} alt={m.userName} width='50px' className={styles.photo} />\r\n                        : <img src={userImage} alt={m.userName} width='50px' className={styles.photo} />}\r\n                    </Link>\r\n                </div>\r\n                <div className={styles.messageWrapper}>\r\n                    <b className={styles.name}>{m.userName}</b>\r\n                    <p className={styles.message}>{m.message}</p>\r\n                </div>\r\n            </div>\r\n        })\r\n        : <p>Нет сообщений</p> }\r\n    </div>\r\n} \r\n\r\n\r\ntype TProps = { messages: TMessages[] }","import React, { FC, useEffect, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { startChatListener, stopChatListener } from '../../store/reducers/chatReducer'\r\nimport { getIsLogged } from '../../store/selectors/authSelector'\r\nimport { getChatMessagesSelector } from '../../store/selectors/chatSelector'\r\nimport { InputMessage } from './InputMessage/InputMessage'\r\nimport { Messages } from './Messages/Messages'\r\n\r\nconst ChatPage: FC = () => {\r\n    const messages = useSelector(getChatMessagesSelector)\r\n    const isLogged = useSelector(getIsLogged)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(startChatListener())\r\n        return () => {\r\n            dispatch(stopChatListener())\r\n        }\r\n    }, [dispatch])\r\n    return (\r\n        <>\r\n            {useMemo(() => { return <Messages messages={messages} />}, [messages])}\r\n            {isLogged && <InputMessage />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatPage"],"names":["getChatMessagesSelector","state","chat","messages","InputMessage","useState","value","setValue","dispatch","useDispatch","className","styles","onChange","e","target","onClick","sendMessage","Messages","length","map","m","i","to","userId","photo","src","alt","userName","width","userImage","message","useSelector","isLogged","getIsLogged","useEffect","startChatListener","stopChatListener","useMemo"],"sourceRoot":""}